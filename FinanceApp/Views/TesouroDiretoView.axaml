<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:FinanceApp.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="700"
        x:Class="FinanceApp.Views.TesouroDiretoView"
        x:DataType="vm:TesouroDiretoViewModel"
        Icon="/Assets/finance-icon.ico"
        Title="Tesouro Direto - Finance Control"
        MinWidth="800" MinHeight="600"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <!-- Background -->
        <Border Background="{StaticResource DarkBackgroundBrush}"/>
        
        <!-- Conteúdo principal -->
        <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="30" Margin="40">
                
                <!-- Breadcrumb -->
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <Button Content="← Voltar" 
                            Classes="SecondaryButton" 
                            Click="OnBackClick"
                            Padding="12,8"
                            FontSize="14"/>
                    <TextBlock Text="Lançamentos > Renda Fixa > Tesouro Direto" 
                               Foreground="{StaticResource TextSecondaryBrush}" 
                               FontSize="14" 
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- Cabeçalho -->
                <StackPanel Spacing="16" HorizontalAlignment="Center">
                    <TextBlock Text="🇧🇷" Classes="Icon" Foreground="{StaticResource AccentYellowBrush}"/>
                    <TextBlock Text="TESOURO DIRETO" Classes="Title"/>
                    <TextBlock Text="Registre suas operações com títulos públicos" 
                               Classes="Subtitle"/>
                </StackPanel>
                
                <!-- Formulário -->
                <Border Classes="Panel" MaxWidth="800">
                    <StackPanel Spacing="24">
                        
                        <TextBlock Text="Dados da Operação" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource AccentYellowBrush}"
                                   Margin="0,0,0,16"/>
                        
                        <!-- Linha 1: Data e Tipo -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Data da Operação *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <DatePicker Name="DataOperacao"
                                            SelectedDate="{Binding DataOperacao}"
                                            Background="{StaticResource MediumBackgroundBrush}"
                                            Foreground="{StaticResource TextPrimaryBrush}"
                                            BorderBrush="{StaticResource AccentYellowBrush}"
                                            MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="Tipo de Movimento *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <ComboBox Name="TipoMovimento"
                                          SelectedItem="{Binding TipoMovimento}"
                                          ItemsSource="{Binding TiposMovimento}"
                                          Background="{StaticResource MediumBackgroundBrush}"
                                          Foreground="{StaticResource TextPrimaryBrush}"
                                          BorderBrush="{StaticResource AccentYellowBrush}"
                                          MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Linha 2: Classe e Nome do Título -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Classe do Título *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <ComboBox Name="ClasseTitulo"
                                          SelectedItem="{Binding ClasseTitulo}"
                                          ItemsSource="{Binding ClassesTitulo}"
                                          Background="{StaticResource MediumBackgroundBrush}"
                                          Foreground="{StaticResource TextPrimaryBrush}"
                                          BorderBrush="{StaticResource AccentYellowBrush}"
                                          MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="Nome do Título *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <TextBox Name="NomeTitulo"
                                         Text="{Binding NomeTitulo}"
                                         Background="{StaticResource MediumBackgroundBrush}"
                                         Foreground="{StaticResource TextPrimaryBrush}"
                                         BorderBrush="{StaticResource AccentYellowBrush}"
                                         Watermark="Ex: Tesouro Selic 2029"
                                         MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Linha 3: Data Vencimento e Indexador -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Data de Vencimento *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <DatePicker Name="DataVencimento"
                                            SelectedDate="{Binding DataVencimento}"
                                            Background="{StaticResource MediumBackgroundBrush}"
                                            Foreground="{StaticResource TextPrimaryBrush}"
                                            BorderBrush="{StaticResource AccentYellowBrush}"
                                            MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="Indexador *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <ComboBox Name="Indexador"
                                          SelectedItem="{Binding Indexador}"
                                          ItemsSource="{Binding Indexadores}"
                                          Background="{StaticResource MediumBackgroundBrush}"
                                          Foreground="{StaticResource TextPrimaryBrush}"
                                          BorderBrush="{StaticResource AccentYellowBrush}"
                                          MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Separador -->
                        <Border Height="1" 
                                Background="{StaticResource LightBackgroundBrush}" 
                                Margin="0,20,0,0"/>
                        
                        <TextBlock Text="Dados Financeiros" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource AccentYellowBrush}"
                                   Margin="0,0,0,16"/>
                        
                        <!-- Linha 4: Quantidade e PU Limpo -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Quantidade de Títulos *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="QuantidadeTitulos"
                                               Value="{Binding QuantidadeTitulos}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.0001"
                                               FormatString="F4"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="PU Limpo (R$) *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="PULimpo"
                                               Value="{Binding PULimpo}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Linha 5: Juros Acumulados e PU Sujo -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Juros Acumulados (R$)" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="JurosAcumulados"
                                               Value="{Binding JurosAcumulados}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="PU Sujo (R$) *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="PUSujo"
                                               Value="{Binding PUSujo}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Linha 6: Valor Bruto -->
                        <StackPanel Spacing="8" MaxWidth="290" HorizontalAlignment="Left">
                            <TextBlock Text="Valor Bruto (R$) *" 
                                       FontWeight="SemiBold" 
                                       Foreground="{StaticResource TextPrimaryBrush}"/>
                            <NumericUpDown Name="ValorBruto"
                                           Value="{Binding ValorBruto}"
                                           Background="{StaticResource MediumBackgroundBrush}"
                                           Foreground="{StaticResource TextPrimaryBrush}"
                                           BorderBrush="{StaticResource AccentYellowBrush}"
                                           Increment="0.01"
                                           FormatString="C2"
                                           MinWidth="290"/>
                        </StackPanel>
                        
                        <!-- Separador -->
                        <Border Height="1" 
                                Background="{StaticResource LightBackgroundBrush}" 
                                Margin="0,10,0,0"/>
                        
                        <TextBlock Text="Custos e Taxas" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource AccentYellowBrush}"
                                   Margin="0,0,0,16"/>
                        
                        <!-- Linha 7: Taxas e IR -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Taxas e Emolumentos (R$)" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="TaxasEmolumentos"
                                               Value="{Binding TaxasEmolumentos}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="IR Retido (R$)" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="IRRetido"
                                               Value="{Binding IRRetido}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Linha 8: Outros Custos e Valor Líquido -->
                        <Grid ColumnDefinitions="*,20,*" MaxWidth="600">
                            <StackPanel Grid.Column="0" Spacing="8">
                                <TextBlock Text="Outros Custos (R$)" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <NumericUpDown Name="OutrosCustos"
                                               Value="{Binding OutrosCustos}"
                                               Background="{StaticResource MediumBackgroundBrush}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               Minimum="0"
                                               MinWidth="200"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Spacing="8">
                                <TextBlock Text="Valor Líquido (R$) *" 
                                           FontWeight="SemiBold" 
                                           Foreground="{StaticResource AccentYellowBrush}"/>
                                <NumericUpDown Name="ValorLiquido"
                                               Value="{Binding ValorLiquido}"
                                               Background="{StaticResource LightBackgroundBrush}"
                                               Foreground="{StaticResource AccentYellowBrush}"
                                               BorderBrush="{StaticResource AccentYellowBrush}"
                                               Increment="0.01"
                                               FormatString="C2"
                                               MinWidth="200"
                                               FontWeight="Bold"
                                               IsReadOnly="True"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Observações -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Observações" 
                                       FontWeight="SemiBold" 
                                       Foreground="{StaticResource TextPrimaryBrush}"/>
                            <TextBox Name="Observacoes"
                                     Text="{Binding Observacoes}"
                                     Background="{StaticResource MediumBackgroundBrush}"
                                     Foreground="{StaticResource TextPrimaryBrush}"
                                     BorderBrush="{StaticResource AccentYellowBrush}"
                                     Watermark="Observações adicionais sobre a operação..."
                                     AcceptsReturn="True"
                                     MinHeight="80"
                                     MaxLength="500"/>
                        </StackPanel>
                        
                        <!-- Botões -->
                        <StackPanel Orientation="Horizontal" 
                                    Spacing="20" 
                                    HorizontalAlignment="Center" 
                                    Margin="0,30,0,0">
                            <Button Content="Cancelar" 
                                    Classes="SecondaryButton"
                                    Click="OnCancelClick"
                                    MinWidth="120"
                                    Padding="16,12"/>
                            <Button Content="Salvar Operação" 
                                    Classes="PrimaryButton"
                                    Click="OnSaveClick"
                                    MinWidth="150"
                                    Padding="16,12"/>
                        </StackPanel>
                        
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
    </Grid>

</Window>
